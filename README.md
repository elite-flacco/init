# TravelAI - AI-Powered Travel Planning App

A Next.js + TypeScript full-stack travel planning application that helps users discover destinations and plan their trips through an interactive wizard interface with AI-powered recommendations.

## Features

- **Traveler Type Selection**: Choose from different travel personalities (Explorer, Type A, Overthinker, Chill)
- **AI-Powered Destination Discovery**: Get personalized destination recommendations based on your preferences
- **Progressive Trip Planning**: Interactive multi-step questionnaire with smooth scrolling and in-place editing
- **AI Trip Planning**: Comprehensive travel itineraries generated by AI
- **Plan Sharing**: Share your travel plans with others via unique URLs
- **PDF & KML Export**: Export your plans as PDF documents or KML files for Google Maps
- **Enhanced User Experience**: Glassmorphism UI effects, scroll-based editing, animated transitions, and intuitive form progression
- **Modern Visual Design**: Neumorphic and glassmorphic card styles with subtle hover animations
- **Responsive Design**: Mobile-first approach with Tailwind CSS styling

## Architecture

This is a **Next.js 15 full-stack application** using the App Router:

- **Frontend**: React 19 + TypeScript with Next.js App Router
- **Backend**: Next.js API routes for AI services and plan sharing
- **AI Integration**: OpenAI and Anthropic API support for destination recommendations and trip planning
- **Testing**: Vitest with React Testing Library
- **Styling**: Tailwind CSS with custom animations

## Getting Started

### Prerequisites

- Node.js (version 18 or higher)
- npm or yarn package manager

### Installation

1. Clone the repository
2. Install dependencies:
   ```bash
   npm install
   ```

### Development Commands

- **Start development server**: `npm run dev`
- **Build for production**: `npm run build`
- **Start production server**: `npm start`
- **Lint code**: `npm run lint`
- **Preview production build**: `npm run preview`

## Project Structure

```
app/                                 # Next.js App Router
├── api/                            # Backend API routes
│   ├── ai/                         # AI service endpoints
│   │   ├── config.ts
│   │   ├── destinations/route.ts   # Destination recommendation API
│   │   ├── trip-planning/route.ts  # Trip planning API
│   │   └── test/route.ts          # AI service testing
│   └── shared-plans/              # Plan sharing API
│       ├── [id]/route.ts          # Get shared plan
│       ├── route.ts               # Create shared plan
│       └── storage.ts             # Plan storage logic
├── share/[id]/                    # Shared plan viewing pages
│   └── page.tsx
├── layout.tsx                     # Root layout
└── page.tsx                       # Main application page

src/                               # Shared frontend code
├── components/                    # React components
│   ├── ui/                       # Reusable UI components
│   │   ├── Card.tsx
│   │   ├── CategoryGroup.tsx
│   │   ├── ItemCard.tsx
│   │   ├── ItemGrid.tsx
│   │   ├── RestaurantItem.tsx
│   │   ├── SectionHeader.tsx
│   │   └── TravelPlanSection.tsx
│   ├── AIDestinationRecommendationResults.tsx
│   ├── AITravelPlan.tsx
│   ├── AITripPlanningPrompts.tsx
│   ├── DestinationCard.tsx
│   ├── DestinationDetailsModal.tsx
│   ├── DestinationKnowledgeSelection.tsx
│   ├── ErrorBoundary.tsx
│   ├── PickMyDestinationFlow.tsx
│   ├── PlaceholderMessage.tsx
│   ├── ProgressiveForm.tsx        # Progressive multi-step form
│   ├── QuestionStep.tsx           # Individual question component
│   └── TravelerTypeSelection.tsx
├── data/                          # Static data and mocks
│   ├── mock/
│   │   ├── destinations.ts
│   │   ├── travelData.ts
│   │   └── travelerTypes.ts
│   ├── travelQuestions.ts
│   └── travelerTypes.ts
├── services/                      # Business logic services
│   ├── aiDestinationService.ts    # AI destination recommendations
│   ├── aiTripPlanningService.ts   # AI trip planning
│   ├── geocodingService.ts        # Location services
│   ├── kmlExportService.ts        # KML export functionality
│   └── pdfExportService.ts        # PDF export functionality
├── types/
│   └── travel.ts                  # TypeScript interfaces
├── config/
│   └── ai.ts                      # AI configuration
├── lib/
│   └── utils.ts                   # Utility functions
└── test/                          # Test configuration
    ├── mocks.ts
    └── setup.ts
```

## Technology Stack

- **Next.js 15** - Full-stack React framework with App Router
- **React 19** - UI framework
- **TypeScript** - Type safety
- **Tailwind CSS** - Styling framework
- **Framer Motion** - Animations
- **Vitest** - Testing framework
- **OpenAI/Anthropic APIs** - AI services
- **Lucide React** - Icons
- **jsPDF & html2canvas** - PDF export
- **ESLint** - Code linting

## App Flow

The app follows a multi-step wizard pattern:

1. **Traveler Type Selection** (`/`) - User selects travel personality
2. **Destination Knowledge** - User indicates if they know where to go
3. **Pick Destination Flow** - AI-powered destination questionnaire (if needed)
4. **Destination Recommendations** - AI shows personalized destination options
5. **Trip Planning** - User answers trip planning questions
6. **Final Plan** - AI generates comprehensive travel itinerary
7. **Plan Sharing** - Users can share plans via `/share/[id]` URLs

## AI Configuration

The app supports multiple AI providers. Configure via environment variables:

```bash
# AI Provider (openai, anthropic, or mock)
REACT_APP_AI_PROVIDER=mock

# API Keys (when using real AI)
REACT_APP_OPENAI_API_KEY=your_openai_key
REACT_APP_ANTHROPIC_API_KEY=your_anthropic_key

# AI Settings
REACT_APP_AI_MODEL=gpt-4
REACT_APP_AI_MAX_TOKENS=1000
REACT_APP_AI_TEMPERATURE=0.7
```

## Testing

```bash
# Run tests
npm test

# Run tests with UI
npm run test:ui

# Run tests once
npm run test:run

# Run tests with coverage
npm run test:coverage
```

## Development Setup

This project includes Claude Code integration for enhanced development workflow:

- **Type checking**: Automatic TypeScript compilation checks
- **Code formatting**: ESLint integration
- **Testing**: Comprehensive test suite with Vitest

### Configuration Files

- `next.config.js` - Next.js configuration
- `tailwind.config.js` - Tailwind CSS configuration  
- `postcss.config.js` - PostCSS configuration
- `tsconfig.json` - TypeScript configuration
- `vitest.config.ts` - Testing configuration
- `CLAUDE.md` - Project documentation for Claude Code

## API Routes

- **POST /api/ai/destinations** - Get destination recommendations
- **POST /api/ai/trip-planning** - Generate trip plans
- **GET /api/ai/test** - Test AI service connectivity
- **POST /api/shared-plans** - Create shareable plan
- **GET /api/shared-plans/[id]** - Retrieve shared plan
